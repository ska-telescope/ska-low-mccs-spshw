@startuml
class ClusterHealthEvaluator
ClusterHealthEvaluator : +evaluate_health()
class ClusterFactory
ClusterFactory : +__init__()
ClusterFactory : -_create_static_simulator()
class ClusterManager
ClusterManager : +__init__()
ClusterManager : +jobs_errored()
ClusterManager : +jobs_failed()
ClusterManager : +jobs_finished()
ClusterManager : +jobs_killed()
ClusterManager : +jobs_lost()
ClusterManager : +jobs_staging()
ClusterManager : +jobs_starting()
ClusterManager : +jobs_running()
ClusterManager : +jobs_killing()
ClusterManager : +jobs_unreachable()
ClusterManager : +memory_total()
ClusterManager : +memory_used()
ClusterManager : +memory_avail()
ClusterManager : +nodes_total()
ClusterManager : +nodes_in_use()
ClusterManager : +nodes_avail()
ClusterManager : +master_cpus_total()
ClusterManager : +master_cpus_used()
ClusterManager : +master_cpus_allocated_percent()
ClusterManager : +master_disk_total()
ClusterManager : +master_disk_used()
ClusterManager : +master_disk_percent()
ClusterManager : +master_mem_total()
ClusterManager : +master_mem_used()
ClusterManager : +master_mem_percent()
ClusterManager : +master_node_id()
ClusterManager : +shadow_master_pool_node_ids()
ClusterManager : +shadow_master_pool_status()
ClusterManager : +ping_master_pool()
ClusterManager : +clear_job_stats()
ClusterManager : +get_job_status()
ClusterManager : +submit_job()
ClusterManager : +start_job()
ClusterManager : +stop_job()
class MccsClusterManagerDevice
MccsClusterManagerDevice : +__init__()
MccsClusterManagerDevice : +do()
MccsClusterManagerDevice : -_initialise_connections()
MccsClusterManagerDevice : -_initialise_hardware_management()
MccsClusterManagerDevice : -_initialise_health_monitoring()
MccsClusterManagerDevice : +interrupt()
MccsClusterManagerDevice : +always_executed_hook()
MccsClusterManagerDevice : +delete_device()
MccsClusterManagerDevice : +simulationMode()
MccsClusterManagerDevice : +health_changed()
MccsClusterManagerDevice : +jobsErrored()
MccsClusterManagerDevice : +jobsFailed()
MccsClusterManagerDevice : +jobsFinished()
MccsClusterManagerDevice : +jobsKilled()
MccsClusterManagerDevice : +jobsKilling()
MccsClusterManagerDevice : +jobsLost()
MccsClusterManagerDevice : +jobsRunning()
MccsClusterManagerDevice : +jobsStaging()
MccsClusterManagerDevice : +jobsStarting()
MccsClusterManagerDevice : +jobsUnreachable()
MccsClusterManagerDevice : +memoryTotal()
MccsClusterManagerDevice : +memoryAvail()
MccsClusterManagerDevice : +memoryUsed()
MccsClusterManagerDevice : +nodesInUse()
MccsClusterManagerDevice : +nodesAvail()
MccsClusterManagerDevice : +nodesTotal()
MccsClusterManagerDevice : +masterNodeId()
MccsClusterManagerDevice : +masterCpusAllocatedPercent()
MccsClusterManagerDevice : +masterCpusUsed()
MccsClusterManagerDevice : +masterCpusTotal()
MccsClusterManagerDevice : +masterDiskPercent()
MccsClusterManagerDevice : +masterDiskUsed()
MccsClusterManagerDevice : +masterDiskTotal()
MccsClusterManagerDevice : +masterMemPercent()
MccsClusterManagerDevice : +masterMemUsed()
MccsClusterManagerDevice : +masterMemTotal()
MccsClusterManagerDevice : +shadowMasterPoolNodeIds()
MccsClusterManagerDevice : +shadowMasterPoolStatus()
MccsClusterManagerDevice : +StartJob()
MccsClusterManagerDevice : +StopJob()
MccsClusterManagerDevice : +SubmitJob()
MccsClusterManagerDevice : +GetJobStatus()
MccsClusterManagerDevice : +ClearJobStats()
MccsClusterManagerDevice : +PingMasterPool()
MccsClusterManagerDevice : -_update_health_state()
MccsClusterManagerDevice : -_init_thread
MccsClusterManagerDevice : -_init_lock
MccsClusterManagerDevice : -_init_interrupt
MccsClusterManagerDevice : -_interrupt
MccsClusterManagerDevice : -_health_state

HardwareHealthEvaluator <|-- ClusterHealthEvaluator
SimulableHardwareFactory <|-- ClusterFactory
SimulableHardwareManager <|-- ClusterManager
MccsGroupDevice <|-- MccsClusterManagerDevice
ClusterManager -- ClusterHealthEvaluator
MccsClusterManagerDevice -- ClusterManager
@enduml
