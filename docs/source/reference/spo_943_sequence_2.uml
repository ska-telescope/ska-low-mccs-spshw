@startuml

participant "Jupyter\nNotebook\nOET" as Jupyter
participant "TMC" as TMC
participant "MCCS\nController" as MCCS_Controller
participant "MCCS\nStation 1" as MCCS_Station_1
participant "MCCS\nTile 1" as MCCS_Tile_1
participant "Tile\nHardware\nManager" as Tile_HW_Man
participant "Simulable\nHardware\nFactory" as Sim_HW_Factory
participant "TPM\nDriver" as TPM_Drv

activate TMC
Jupyter -> TMC: Startup_Telescope()
activate MCCS_Controller
TMC -> MCCS_Controller: On()
activate MCCS_Station_1
deactivate TMC
MCCS_Controller -> MCCS_Station_1: On()
activate MCCS_Tile_1
MCCS_Station_1 -> MCCS_Tile_1: On()
MCCS_Station_1 <-- MCCS_Tile_1:

MCCS_Station_1 -> MCCS_Tile_1: DownloadFirmware(path)
activate Tile_HW_Man
MCCS_Tile_1 -> Tile_HW_Man: download_firmware(path)
activate Sim_HW_Factory
Tile_HW_Man -> Sim_HW_Factory: download_firmware(path)
activate TPM_Drv
Sim_HW_Factory -> TPM_Drv: download_firmware(path)
Sim_HW_Factory <-- TPM_Drv:
Tile_HW_Man <-- Sim_HW_Factory:
MCCS_Tile_1 <-- Tile_HW_Man:
MCCS_Station_1 <-- MCCS_Tile_1:

MCCS_Station_1 -> MCCS_Tile_1: Initialise()
MCCS_Tile_1 -> Tile_HW_Man: Initialise()
Tile_HW_Man -> Sim_HW_Factory: Initialise()
Sim_HW_Factory -> TPM_Drv: Initialise()
Sim_HW_Factory <-- TPM_Drv:
deactivate TPM_Drv
Tile_HW_Man <-- Sim_HW_Factory:
deactivate Sim_HW_Factory
MCCS_Tile_1 <-- Tile_HW_Man:
deactivate Tile_HW_Man
MCCS_Station_1 <-- MCCS_Tile_1:
deactivate MCCS_Tile_1

MCCS_Controller <-- MCCS_Station_1:
deactivate MCCS_Station_1
activate TMC
TMC <-- MCCS_Controller:
deactivate MCCS_Controller
Jupyter <-- TMC:
deactivate TMC

@enduml
