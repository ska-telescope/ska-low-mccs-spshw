platform:
  metadata:
    version: 0.0.9
    description: >
      A platform configuration specification for AA 0.5.

      This specification addresses the MCCS view of the AA 0.5.
      For example, when we refer to the IP address of a TPM,
      we are referring to the IP address on which the MCCS monitors and controls it.

      For file structure details, see
      https://confluence.skatelescope.org/display/SE/MCCS-1628%3A+platform+configuration+specification+file+for+MCCS+deployment
      Note in particular that this structure requires string keys for stations, subracks, tpms, etc,
      but the *convention* currently in use simply numbers them off.
      Hence these keys are strings such as "1", rather than the integer 1.

      This file implements this structure,
      but the data is nearly all unknown,
      and has been faked here:

      * Cluster names, and station ids and names are correct.
      * Station reference location latitudes and longitudes are correct.
        The heights are correct according to some datum,
        but it's probably the geoid not the ellipsoid.
      * Properties of subracks, TPMs, FNDHs, smartboxes and antennas
        are all completely faked (actually they are a copy-paste of AAVS3,
        but each with a unique cabinet subnet).

  cluster:
    domain: lowitf.internal.skao.int  # target-platform-for-now
    services:
      jupyterhub: true
      taranta-platform: true
      # tango-base:
      #   tango-host: databaseds.low-itf-system:10000
      # skuid:
      #   url: http://ska-ser-skuid-ska-low-itf-svc.low-itf-system:9870/
    daq:
      storage_class: nfss1
      runtime_class: nvidia
      gpu_limit: 1

  array:
    name: aa0.5
    station_clusters:
      "s8":
        # These cabinet subnets are totally fabricated, but on a plausible schema:
        # * For each cabinet, the non-science and science subnets are supposed to be
        #   adjacent /25s (in that order) on a /24.
        # * reserve 10.0.0.0/16 for the CPF (more than enough for 112 /24s)
        # * assign 10.R.C.0/24 to the Cth cabinet in the Nth RPF,
        #   which makes the science subnet 10.R.C.128/25.
        cabinets:
          "s8-1":
            subnet: 10.21.1.128
          "s8-3":
            subnet: 10.21.3.128
        # stations:  # defined in separate files
      "s9":
        cabinets:
          "s9-1":
            subnet: 10.22.1.128
        # stations:  # defined in separate file
      "s10":
        cabinets:
          "s10-2":
            subnet: 10.23.2.128
        # stations:  # defined in separate file
